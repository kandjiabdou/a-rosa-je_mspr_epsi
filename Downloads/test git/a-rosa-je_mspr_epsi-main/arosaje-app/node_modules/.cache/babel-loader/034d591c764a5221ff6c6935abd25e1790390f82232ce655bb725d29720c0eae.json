{"ast":null,"code":"import liste from \"../data.json\";\nimport { mdiDelete } from \"@mdi/js\";\nimport axios from \"axios\";\nexport default {\n  name: \"liSte\",\n  data: () => ({\n    tab: 0,\n    items: liste[\"liste\"],\n    icon: mdiDelete,\n    gardiennageData: [],\n    idUser: 4\n  }),\n  mounted() {\n    console.log(\"Mounted\");\n    this.fetchData();\n  },\n  methods: {\n    deleteItem(index) {\n      this.items.splice(index, 1);\n    },\n    fetchData() {\n      console.log(\"test start\");\n      axios.get(\"http://localhost:3000/gardiennage/user/\" + this.idUser).then(response => {\n        this.gardiennageData = response.data.gardiennages;\n        console.log(\"ok get\");\n        console.log(response.data);\n        response.data.gardiennages.forEach(element => {\n          element[\"date_fin\"] = new Date(element[\"date_fin\"]).toLocaleDateString();\n          element[\"date_debut\"] = new Date(element[\"date_fin\"]).toLocaleDateString();\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(\"test fin\");\n    },\n    DeleteData(itemId) {\n      axios.delete(`http://localhost:3000/gardiennage/${this.idUser}/${itemId}`).then(response => {\n        console.log(\"Item deleted successfully\");\n        // Update the gardiennageData array with the updated data from the server\n        this.gardiennageData = response.data.gardiennages;\n        alert(\"Item deleted successfully!\");\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAKA,OAAOA,KAAI,MAAO,cAAc;AAChC,SAASC,SAAQ,QAAS,SAAS;AACnC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,OAAO;EAEbC,IAAI,EAAE,OAAO;IACXC,GAAG,EAAE,CAAC;IACNC,KAAK,EAAEN,KAAK,CAAC,OAAO,CAAC;IACrBO,IAAI,EAAEN,SAAS;IACfO,eAAe,EAAE,EAAE;IACnBC,MAAM,EAAE;EACV,CAAC,CAAC;EACFC,OAAO,GAAG;IACRC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtB,IAAI,CAACC,SAAS,EAAE;EAClB,CAAC;EACDC,OAAO,EAAE;IACPC,UAAU,CAACC,KAAK,EAAE;MAChB,IAAI,CAACV,KAAK,CAACW,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;IAC7B,CAAC;IACDH,SAAS,GAAG;MACVF,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzBV,KAAI,CACDgB,GAAG,CAAC,yCAAwC,GAAI,IAAI,CAACT,MAAM,EAC3DU,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACZ,eAAc,GAAIY,QAAQ,CAAChB,IAAI,CAACiB,YAAY;QACjDV,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrBD,OAAO,CAACC,GAAG,CAACQ,QAAQ,CAAChB,IAAI,CAAC;QAC1BgB,QAAQ,CAAChB,IAAI,CAACiB,YAAY,CAACC,OAAO,CAAEC,OAAO,IAAK;UAC9CA,OAAO,CAAC,UAAU,IAAI,IAAIC,IAAI,CAC5BD,OAAO,CAAC,UAAU,EACnB,CAACE,kBAAkB,EAAE;UACtBF,OAAO,CAAC,YAAY,IAAI,IAAIC,IAAI,CAC9BD,OAAO,CAAC,UAAU,EACnB,CAACE,kBAAkB,EAAE;QACxB,CAAC,CAAC;MACJ,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBhB,OAAO,CAACC,GAAG,CAACe,KAAK,CAAC;MACpB,CAAC,CAAC;MACJhB,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IACzB,CAAC;IACDgB,UAAU,CAACC,MAAM,EAAE;MACjB3B,KAAI,CACD4B,MAAM,CAAE,qCAAoC,IAAI,CAACrB,MAAO,IAAGoB,MAAO,EAAC,EACnEV,IAAI,CAAEC,QAAQ,IAAK;QAClBT,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;QACxC;QACA,IAAI,CAACJ,eAAc,GAAIY,QAAQ,CAAChB,IAAI,CAACiB,YAAY;QACjDU,KAAK,CAAC,4BAA4B,CAAC;MACrC,CAAC,EACAL,KAAK,CAAEC,KAAK,IAAK;QAChBhB,OAAO,CAACC,GAAG,CAACe,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF;AACF,CAAC","names":["liste","mdiDelete","axios","name","data","tab","items","icon","gardiennageData","idUser","mounted","console","log","fetchData","methods","deleteItem","index","splice","get","then","response","gardiennages","forEach","element","Date","toLocaleDateString","catch","error","DeleteData","itemId","delete","alert"],"sourceRoot":"","sources":["C:\\Users\\user\\Downloads\\test git\\a-rosa-je_mspr_epsi-main\\arosaje-app\\src\\views\\GardiennageView.vue"],"sourcesContent":["<template>\n  <p>ooo</p>\n</template>\n\n<script>\nimport liste from \"../data.json\";\nimport { mdiDelete } from \"@mdi/js\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"liSte\",\n\n  data: () => ({\n    tab: 0,\n    items: liste[\"liste\"],\n    icon: mdiDelete,\n    gardiennageData: [],\n    idUser: 4,\n  }),\n  mounted() {\n    console.log(\"Mounted\");\n    this.fetchData();\n  },\n  methods: {\n    deleteItem(index) {\n      this.items.splice(index, 1);\n    },\n    fetchData() {\n      console.log(\"test start\");\n      axios\n        .get(\"http://localhost:3000/gardiennage/user/\" + this.idUser)\n        .then((response) => {\n          this.gardiennageData = response.data.gardiennages;\n          console.log(\"ok get\");\n          console.log(response.data);\n          response.data.gardiennages.forEach((element) => {\n            element[\"date_fin\"] = new Date(\n              element[\"date_fin\"]\n            ).toLocaleDateString();\n            element[\"date_debut\"] = new Date(\n              element[\"date_fin\"]\n            ).toLocaleDateString();\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      console.log(\"test fin\");\n    },\n    DeleteData(itemId) {\n      axios\n        .delete(`http://localhost:3000/gardiennage/${this.idUser}/${itemId}`)\n        .then((response) => {\n          console.log(\"Item deleted successfully\");\n          // Update the gardiennageData array with the updated data from the server\n          this.gardiennageData = response.data.gardiennages;\n          alert(\"Item deleted successfully!\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}