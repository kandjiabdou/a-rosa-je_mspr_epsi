"use strict";(self["webpackChunkarosaje"]=self["webpackChunkarosaje"]||[]).push([[646],{646:function(e,s,o){o.r(s),o.d(s,{default:function(){return H}});var a=o(6252),l=o(9963),r=o(3577);const n={class:"containnerform"},t={class:"bloc"},i={class:"form"},c=(0,a._)("img",{src:"https://media.istockphoto.com/id/536037199/fr/vectoriel/main-tenant-plante-logo-concept-de-croissance-vector-illustration.jpg?s=612x612&w=0&k=20&c=4H35vhMOuQ90StwU-d7WXmFhrqKfQH5AfKTjrJHlaXo=",alt:"logo"},null,-1),m=["validation-schema"],d={class:"form-group"},u=(0,a._)("h3",{class:"titre"}," Connectez-vous !",-1),p=(0,a._)("br",null,null,-1),b=(0,a._)("label",{for:"username"},"Email",-1),f={class:"form-group"},g=(0,a._)("label",{for:"password"},"Mot de passe",-1),v=(0,a._)("br",null,null,-1),h=(0,a._)("div",{class:"form-group"},[(0,a._)("button",{class:"btnc btn-block",type:"submit",onclick:"window.location.href = '/auth2';"},[(0,a._)("span",null,"Connexion")]),(0,a._)("br"),(0,a._)("a",{class:"text1",href:"#"}," Mot de passe oublié ?")],-1),_={class:"form-group"},w={key:0,class:"alert alert-danger",role:"alert"},k={class:"text"},y={class:"bloci"},V=(0,a._)("p",null,"Vous n'avez pas de compte inscrivez-vous pour accéder à nos services",-1),M={class:"mybtn"},S={onclick:"window.location.href = '/register';",class:"btn btn-block"},C={class:"spinner-border spinner-border-sm"},W=(0,a._)("span",null,"Inscription",-1);function j(e,s,o,j,q,x){const z=(0,a.up)("Field"),F=(0,a.up)("ErrorMessage");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",t,[(0,a._)("div",i,[c,(0,a._)("form",{onSubmit:s[2]||(s[2]=(0,l.iM)(((...e)=>x.onSubmit&&x.onSubmit(...e)),["prevent"])),"validation-schema":q.schema},[(0,a._)("div",d,[u,p,b,(0,a.Wm)(z,{type:"email",modelValue:q.email,"onUpdate:modelValue":s[0]||(s[0]=e=>q.email=e),name:"email",class:"form-control"},null,8,["modelValue"]),(0,a.Wm)(F,{name:"email",class:"error-feedback"})]),(0,a._)("div",f,[g,v,(0,a.Wm)(z,{type:"password",id:"password",modelValue:q.password,"onUpdate:modelValue":s[1]||(s[1]=e=>q.password=e),name:"password",class:"form-control"},null,8,["modelValue"]),(0,a.Wm)(F,{name:"password",class:"error-feedback"})]),h,(0,a._)("div",_,[q.message?((0,a.wg)(),(0,a.iD)("div",w,(0,r.zw)(q.message),1)):(0,a.kq)("",!0)])],40,m)]),(0,a._)("div",k,[(0,a._)("div",y,[V,(0,a._)("div",M,[(0,a._)("button",S,[(0,a.wy)((0,a._)("span",C,null,512),[[l.F8,q.loading]]),W])])])])])])}o(7658);var q=o(2954),x=o(6310),z=o(8433),F={name:"LoginComponent",components:{Field:q.gN,ErrorMessage:q.Bc},data(){const e=x.Ry().shape({email:x.Z_().required("Veiller entrer votre identifiant"),password:x.Z_().required("Veiller entrer votre mot de passe")});return{loading:!1,message:"",schema:e,email:"",password:""}},methods:{async onSubmit(){try{const e=await z.Z.post("http://localhost:3000/login",{email:this.email,mdp:this.password}),s=e.data;console.log(s),400!=s["status"]||s["success"]?(localStorage.setItem("authToken",s.token),console.log(s.token),this.$router.push("/profil")):alert(s.message)}catch(e){alert(e.message)}}}},Z=o(3744);const E=(0,Z.Z)(F,[["render",j]]);var H=E}}]);
//# sourceMappingURL=646.cd641214.js.map