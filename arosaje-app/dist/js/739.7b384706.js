"use strict";(self["webpackChunkarosaje"]=self["webpackChunkarosaje"]||[]).push([[739],{1739:function(e,a,s){s.r(a),s.d(a,{default:function(){return P}});var o=s(6252),l=s(9963),n=s(3577);const r={class:"containnerform"},i={class:"bloc"},t={class:"form"},m=(0,o._)("img",{src:"https://media.istockphoto.com/id/536037199/fr/vectoriel/main-tenant-plante-logo-concept-de-croissance-vector-illustration.jpg?s=612x612&w=0&k=20&c=4H35vhMOuQ90StwU-d7WXmFhrqKfQH5AfKTjrJHlaXo=",alt:"logoaro"},null,-1),c=["validation-schema"],d={key:0},u={class:"name"},p={class:"form-group"},b=(0,o._)("label",{for:"username"},"Nom",-1),f={class:"form-group"},v=(0,o._)("label",{for:"username"},"Prenom",-1),g={class:"name"},h={class:"form-group"},_=(0,o._)("label",{for:"email"},"Email",-1),k={class:"form-group"},w=(0,o._)("label",{for:"password"},"Password",-1),x=(0,o.uE)('<div class="politic"><label class="text-grey-600 cursor-pointer text-xs text-justify"><input type="checkbox" name="terms" required="required" value="1" tabindex="5"> J&#39;ai lu et accepté les Conditions Générales d&#39;Utilisation <br>ainsi que la Politique de confidentialité.<br></label></div><div class="submit"><button type="submit" class="btn btn-block"> Inscription </button></div>',2),y={class:"text"},V={class:"bloci"},q=(0,o._)("p",null," Vous n'avez pas de compte inscrivez-vous pour accéder à nos services ",-1),W={class:"mybtn"},D=["disabled"],U={class:"spinner-border spinner-border-sm"},Z=(0,o._)("span",null,"Connexion",-1);function j(e,a,s,j,C,E){const M=(0,o.up)("Field"),F=(0,o.up)("ErrorMessage");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",i,[(0,o._)("div",t,[m,(0,o._)("form",{onSubmit:a[4]||(a[4]=(0,l.iM)(((...e)=>E.submit&&E.submit(...e)),["prevent"])),"validation-schema":C.schema},[C.successful?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",u,[(0,o._)("div",p,[b,(0,o.Wm)(M,{name:"name",type:"text",modelValue:e.nom,"onUpdate:modelValue":a[0]||(a[0]=a=>e.nom=a),class:"form-control"},null,8,["modelValue"]),(0,o.Wm)(F,{name:"name",class:"error-feedback"})]),(0,o._)("div",f,[v,(0,o.Wm)(M,{name:"prenom",type:"text",modelValue:C.prenom,"onUpdate:modelValue":a[1]||(a[1]=e=>C.prenom=e),class:"form-control"},null,8,["modelValue"]),(0,o.Wm)(F,{name:"prenom",class:"error-feedback"})])]),(0,o._)("div",g,[(0,o._)("div",h,[_,(0,o.Wm)(M,{name:"email",type:"email",modelValue:C.email,"onUpdate:modelValue":a[2]||(a[2]=e=>C.email=e),class:"form-control"},null,8,["modelValue"]),(0,o.Wm)(F,{name:"email",class:"error-feedback"})]),(0,o._)("div",k,[w,(0,o.Wm)(M,{name:"password",type:"password",class:"form-control",modelValue:e.mdp,"onUpdate:modelValue":a[3]||(a[3]=a=>e.mdp=a)},null,8,["modelValue"]),(0,o.Wm)(F,{name:"password",class:"error-feedback"})])]),x]))],40,c)]),(0,o._)("div",y,[(0,o._)("div",V,[q,(0,o._)("div",W,[(0,o._)("button",{onclick:"window.location.href = '/login';",class:"btn btn-block",disabled:C.loading},[(0,o.wy)((0,o._)("span",U,null,512),[[l.F8,C.loading]]),Z],8,D)])]),C.message?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,n.C_)(["alert",C.successful?"alert-success":"alert-danger"])},(0,n.zw)(C.message),3)):(0,o.kq)("",!0)])])])}s(7658);var C=s(2954),E=s(6310),M=s(8433),F={name:"RegisterLogin",components:{Field:C.gN,ErrorMessage:C.Bc},data(){const e=E.Ry().shape({username:E.Z_().required("Un identifiant est nécessaire!").min(3,"Dois contenir plus de 3 caractéres !").max(20,"Dois contenir au maximum 20 caractéres !"),email:E.Z_().required("Un mail est nécessaire!").email("Email invalid!").max(50,"Dois contenir au maximum 20 caractéres!"),password:E.Z_().required("Mot de passe nécessaire !").min(8,"Dois contenir au moins 8 caractéres !").max(40,"Dois contenir au maximum 20 caractéres!")});return{successful:!1,loading:!1,message:"",schema:e,email:"",name:"",prenom:"",password:""}},methods:{async submit(){try{let e=await M.Z.post("http://localhost:3000/signup",{nom:this.nom,prenom:this.prenom,email:this.email,mdp:this.mdp});console.log("response login",e);const a=e.data;console.log(a),400!=a["status"]||a["success"]?(e=await M.Z.post("http://localhost:3000/login",{email:this.email,mdp:this.mdp}),localStorage.setItem("authToken",e.data.token),this.$router.push("/profil")):alert(a.message)}catch(e){console.error(e)}}}},z=s(3744);const H=(0,z.Z)(F,[["render",j]]);var P=H}}]);
//# sourceMappingURL=739.7b384706.js.map