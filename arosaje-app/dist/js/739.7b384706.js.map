{"version":3,"file":"js/739.7b384706.js","mappings":"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","sources":["webpack://arosaje/./src/views/RegisterView.vue","webpack://arosaje/./src/views/RegisterView.vue?1ec6"],"sourcesContent":["<template>\r\n  <div class=\"containnerform\">\r\n    <div class=\"bloc\">\r\n      <div class=\"form\">\r\n        <img\r\n          src=\"https://media.istockphoto.com/id/536037199/fr/vectoriel/main-tenant-plante-logo-concept-de-croissance-vector-illustration.jpg?s=612x612&w=0&k=20&c=4H35vhMOuQ90StwU-d7WXmFhrqKfQH5AfKTjrJHlaXo=\"\r\n          alt=\"logoaro\" />\r\n        <form @submit.prevent=\"submit\" :validation-schema=\"schema\">\r\n          <div v-if=\"!successful\">\r\n            <div class=\"name\">\r\n            <div class=\"form-group\">\r\n              <label for=\"username\">Nom</label>\r\n              <Field name=\"name\" type=\"text\" v-model=\"nom\" class=\"form-control\" />\r\n              <ErrorMessage name=\"name\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"username\">Prenom</label>\r\n              <Field name=\"prenom\" type=\"text\" v-model=\"prenom\" class=\"form-control\" />\r\n              <ErrorMessage name=\"prenom\" class=\"error-feedback\" />\r\n            </div>\r\n            </div>\r\n            <div class=\"name\">\r\n            <div class=\"form-group\">\r\n              <label for=\"email\">Email</label>\r\n              <Field name=\"email\" type=\"email\" v-model=\"email\" class=\"form-control\" />\r\n              <ErrorMessage name=\"email\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"password\">Password</label>\r\n              <Field name=\"password\" type=\"password\" class=\"form-control\" v-model=\"mdp\" />\r\n              <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n            </div>\r\n              </div>\r\n            <div class=\"politic\">\r\n\r\n            <label class=\"text-grey-600 cursor-pointer text-xs text-justify\">\r\n              <input type=\"checkbox\" name=\"terms\" required=\"required\" value=\"1\" tabindex=\"5\">\r\n              J'ai lu et accepté les Conditions Générales d'Utilisation <br>ainsi que la Politique de confidentialité.<br>\r\n            </label>\r\n            </div>\r\n\r\n            <div class=\"submit\">\r\n              <button type=\"submit\" class=\"btn  btn-block\">\r\n\r\n                Inscription\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class=\"text\">\r\n        <div class=\"bloci\">\r\n          <p>\r\n            Vous n'avez pas de compte inscrivez-vous pour accéder à nos services\r\n          </p>\r\n          <div class=\"mybtn\">\r\n            <button onclick=\"window.location.href = '/login';\" class=\"btn btn-block\" :disabled=\"loading\">\r\n              <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\r\n\r\n              <span>Connexion</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"message\" class=\"alert\" :class=\"successful ? 'alert-success' : 'alert-danger'\">\r\n          {{ message }}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Field, ErrorMessage } from \"vee-validate\";\r\nimport * as yup from \"yup\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"RegisterLogin\",\r\n  components: {\r\n    Field,\r\n    ErrorMessage,\r\n  },\r\n  data() {\r\n    const schema = yup.object().shape({\r\n      username: yup\r\n        .string()\r\n        .required(\"Un identifiant est nécessaire!\")\r\n        .min(3, \"Dois contenir plus de 3 caractéres !\")\r\n        .max(20, \"Dois contenir au maximum 20 caractéres !\"),\r\n      email: yup\r\n        .string()\r\n        .required(\"Un mail est nécessaire!\")\r\n        .email(\"Email invalid!\")\r\n        .max(50, \"Dois contenir au maximum 20 caractéres!\"),\r\n      password: yup\r\n        .string()\r\n        .required(\"Mot de passe nécessaire !\")\r\n        .min(8, \"Dois contenir au moins 8 caractéres !\")\r\n        .max(40, \"Dois contenir au maximum 20 caractéres!\"),\r\n    });\r\n\r\n    return {\r\n      successful: false,\r\n      loading: false,\r\n      message: \"\",\r\n      schema,\r\n      email: \"\",\r\n      name: \"\",\r\n      prenom: \"\",\r\n      password: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async submit() {\r\n      try {\r\n        let response = await axios.post(\"http://localhost:3000/signup\", {\r\n          nom: this.nom,\r\n          prenom: this.prenom,\r\n          email: this.email,\r\n          mdp: this.mdp,\r\n        });\r\n        console.log(\"response login\", response);\r\n        const data = response.data;\r\n        console.log(data);\r\n        if (data[\"status\"] != 400 || data[\"success\"]) {\r\n          response = await axios.post(\"http://localhost:3000/login\", {\r\n            email: this.email,\r\n            mdp: this.mdp,\r\n          });\r\n          // Enregistrer le jeton d'authentification dans le stockage local ou dans un cookie\r\n          localStorage.setItem('authToken', response.data.token);\r\n          // Rediriger l'utilisateur vers la page suivante\r\n          this.$router.push('/profil');\r\n        } else {\r\n          // Afficher un message d'erreur à l'utilisateur\r\n          alert(data.message);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n\r\n.containnerform {\r\n  margin: auto;\r\n  width: 70%;\r\n  height: 50%;\r\n}\r\n.politic{\r\n  margin-top:30px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.bloc {\r\n  margin-top: 50px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-shadow: 10px 5px 5px gray;\r\n  height: 500px;\r\n}\r\n\r\n.form {\r\n  margin-right: 70px !important;\r\n  width: 500px;\r\n  margin-top: 20px;\r\n}\r\n.name{\r\n  display:flex;\r\n  justify-content: space-around;\r\n}\r\n\r\n.text {\r\n\r\n  width: 35%;\r\n  height: 100%;\r\n  background-color: forestgreen;\r\n}\r\n\r\n.bloci {\r\n  margin-top: 150px;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  padding: 20px;\r\n}\r\n\r\n.mybtn button {\r\n  width: 30vh;\r\n  margin: auto;\r\n  background-color: white;\r\n}\r\n\r\n.form img {\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-left: 150px;\r\n}\r\n\r\n.text p {\r\n  color: white;\r\n}\r\n\r\n\r\n.titre {\r\n  margin-left: 50px;\r\n}\r\n\r\na {\r\n  color: white;\r\n}\r\n\r\na :hover {\r\n  color: forestgreen;\r\n}\r\n.btn{\r\n  top:20px;\r\n  width:200px;\r\n  margin:auto;\r\n  background-color: forestgreen;\r\n\r\n}\r\n\r\n.btnc {\r\n  background-color: forestgreen;\r\n  height: 40px;\r\n  color: white;\r\n}\r\n\r\n@media screen and (max-width: 756px) {\r\n  .containnerform {\r\n    height: 100vh;\r\n    width: 40vh;\r\n  }\r\n\r\n  .bloc {\r\n    width: 300px;\r\n    height: 800px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 10px;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .form {\r\n    margin-right: 100px !important;\r\n    width: 280px;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .text {\r\n    width: 100%;\r\n    height: 30%;\r\n    background-color: forestgreen;\r\n  }\r\n\r\n}\r\n</style>\r\n\r\n\r\n","import { render } from \"./RegisterView.vue?vue&type=template&id=584199a6\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=584199a6&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\toumy\\\\Desktop\\\\projet_mspr\\\\a-rosa-je_mspr_epsi\\\\arosaje-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","alt","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","submit","$data","schema","successful","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createVNode","_component_Field","name","type","_ctx","nom","$event","_component_ErrorMessage","_hoisted_10","_hoisted_11","prenom","_hoisted_12","_hoisted_13","_hoisted_14","email","_hoisted_15","_hoisted_16","mdp","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","onclick","disabled","loading","_hoisted_24","_hoisted_25","message","_normalizeClass","components","Field","ErrorMessage","data","yup","shape","username","required","min","max","password","methods","async","response","axios","this","console","log","localStorage","setItem","token","$router","push","alert","error","__exports__","render"],"sourceRoot":""}