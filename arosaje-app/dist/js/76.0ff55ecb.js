"use strict";(self["webpackChunkarosaje"]=self["webpackChunkarosaje"]||[]).push([[76],{1076:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(6252),l=a(9963),o=a(7312),u=a(5039),r=a(6422),s=a(3369),i=a(4286),c=a(165);const d=(0,n._)("h3",{class:"titre"},"Double Authentification",-1),m=(0,n._)("span",null,"Veillez scanner le code QR avec l'application Google Authenticator",-1),f=["src"];function h(e,t,a,h,p,b){return(0,n.wg)(),(0,n.j4)(s.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u._,{class:"mx-auto","max-width":"500"},{default:(0,n.w5)((()=>[d,m,(0,n._)("img",{src:p.qrCodeDataURI,alt:"QR code"},null,8,f),(0,n.Wm)(i.CX,{width:"300",class:"mx-auto formnum"},{default:(0,n.w5)((()=>[(0,n.Wm)(r.O,{onSubmit:t[1]||(t[1]=(0,l.iM)((()=>{}),["prevent"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(c.hw,{modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.firstName=t),rules:e.rules,label:"Code secret"},null,8,["modelValue","rules"]),(0,n.Wm)(o.T,{type:"submit",onclick:"window.location.href = '/profil';",block:"",class:"mt-2"},{default:(0,n.w5)((()=>[(0,n.Uk)("Submit")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var p={name:"DoubleAuth",data(){return{qrCodeDataURI:""}},mounted(){this.generateOTP()},methods:{async generateOTP(){const e=await fetch("http://localhost:3000/otp/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:11})}),t=await e.json();this.qrCodeDataURI=t.qrCodeDataURI,console.log(t.qrCodeDataURI)}}},b=a(3744);const v=(0,b.Z)(p,[["render",h]]);var w=v},6422:function(e,t,a){a.d(t,{O:function(){return i}});var n=a(6252),l=a(4357),o=a(3185),u=a(2262),r=a(320),s=a(9888);const i=(0,r.ev)()({name:"VForm",props:{...(0,l.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:a,emit:r}=t;const i=(0,l.Np)(e),c=(0,u.iH)();function d(e){e.preventDefault(),i.reset()}function m(e){const t=e,a=i.validate();t.then=a.then.bind(a),t.catch=a.catch.bind(a),t.finally=a.finally.bind(a),r("submit",t),t.defaultPrevented||a.then((e=>{let{valid:t}=e;t&&c.value?.submit()})),t.preventDefault()}return(0,s.L)((()=>(0,n.Wm)("form",{ref:c,class:"v-form",novalidate:!0,onReset:d,onSubmit:m},[a.default?.(i)]))),(0,o.F)(i,c)}})}}]);
//# sourceMappingURL=76.0ff55ecb.js.map