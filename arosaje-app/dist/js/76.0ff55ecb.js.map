{"version":3,"file":"js/76.0ff55ecb.js","mappings":"qPAOMA,EAAAA,EAAAA,GAA8C,MAA1CC,MAAM,SAAQ,2BAAuB,G,GACzCD,EAAAA,EAAAA,GAA+E,YAAzE,sEAAkE,G,oDAP5EE,EAAAA,EAAAA,IAoBcC,EAAAA,EAAA,M,kBAnBZ,IAkBS,EAlBTC,EAAAA,EAAAA,IAkBSC,EAAAA,EAAA,CAjBLJ,MAAM,UACN,YAAU,O,mBAGZ,IAA8C,CAA9CK,EACAC,GACAP,EAAAA,EAAAA,GAAwC,OAAlCQ,IAAKC,EAAAC,cAAeC,IAAI,W,WAC9BP,EAAAA,EAAAA,IASUQ,EAAAA,GAAA,CATDC,MAAM,MAAMZ,MAAM,mB,mBACzB,IAOS,EAPTG,EAAAA,EAAAA,IAOSU,EAAAA,EAAA,CAPAC,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAP,QAAe,e,mBACrB,IAIgB,EAJhBb,EAAAA,EAAAA,IAIgBc,EAAAA,GAAA,C,WAHHC,EAAAC,U,qCAAAD,EAAAC,UAASC,GACjBC,MAAOH,EAAAG,MACRC,MAAM,e,gCAEVnB,EAAAA,EAAAA,IAAkGoB,EAAAA,EAAA,CAA3FC,KAAK,SAASC,QAAQ,oCAAoCC,MAAA,GAAM1B,MAAM,Q,mBAAO,IAAM,UAAN,a,0CAQ9F,OACE2B,KAAK,aACLC,OAEE,MAAO,CACLnB,cAAe,GAEnB,EACAoB,UAEEC,KAAKC,aACP,EACAC,QAAS,CACPC,oBACE,MAAMC,QAAiBC,MAAM,qCAAsC,CACjEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEC,QAAS,OAE5Bb,QAAaM,EAASQ,OAC5BZ,KAAKrB,cAAgBmB,EAAKnB,cAC1BkC,QAAQC,IAAIhB,EAAKnB,cAEnB,I,UC3CJ,MAAMoC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,sHCEO,MAAMC,GAAQC,EAAAA,EAAAA,KAAAA,CAAmB,CACtCrB,KAAM,QAENsB,MAAO,KACFC,EAAAA,EAAAA,OAGLC,MAAO,CACL,oBAAsBC,IAAwB,EAC9CC,OAASC,IAA0B,GAGrCC,MAAON,EAAKO,GAAmB,IAAjB,MAAEC,EAAK,KAAEC,GAAMF,EAC3B,MAAMG,GAAOC,EAAAA,EAAAA,IAAWX,GAClBY,GAAUC,EAAAA,EAAAA,MAEhB,SAASC,EAAST,GAChBA,EAAEU,iBACFL,EAAKM,OACP,CAEA,SAASnD,EAAUoD,GACjB,MAAMZ,EAAIY,EAEJC,EAAQR,EAAKS,WACnBd,EAAEe,KAAOF,EAAME,KAAKC,KAAKH,GACzBb,EAAEiB,MAAQJ,EAAMI,MAAMD,KAAKH,GAC3Bb,EAAEkB,QAAUL,EAAMK,QAAQF,KAAKH,GAE/BT,EAAK,SAAUJ,GAEVA,EAAEmB,kBACLN,EAAME,MAAKK,IAAe,IAAd,MAAEC,GAAOD,EACfC,GACFd,EAAQe,OAAOvB,QACjB,IAIJC,EAAEU,gBACJ,CAcA,OAZAa,EAAAA,EAAAA,IAAU,KAAA1E,EAAAA,EAAAA,IAAC,OAAD,KAEA0D,EAAO,MACP,SAAQ,sBAEJE,EAAO,SACNjD,GAAQ,CAEjB2C,EAAMqB,UAAUnB,QAIfoB,EAAAA,EAAAA,GAAYpB,EAAME,EAC3B,G","sources":["webpack://arosaje/./src/views/doubleAuth.vue","webpack://arosaje/./src/views/doubleAuth.vue?5458","webpack://arosaje/../../../src/components/VForm/VForm.tsx"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card\r\n        class=\"mx-auto\"\r\n        max-width=\"500\"\r\n\r\n    >\r\n      <h3 class=\"titre\">Double Authentification</h3>\r\n      <span>Veillez scanner le code QR avec l'application Google Authenticator</span>\r\n      <img :src=\"qrCodeDataURI\" alt=\"QR code\">\r\n      <v-sheet width=\"300\" class=\"mx-auto formnum\">\r\n        <v-form @submit.prevent>\r\n          <v-text-field\r\n              v-model=\"firstName\"\r\n              :rules=\"rules\"\r\n              label=\"Code secret\"\r\n          ></v-text-field>\r\n          <v-btn type=\"submit\" onclick=\"window.location.href = '/profil';\" block class=\"mt-2\">Submit</v-btn>\r\n        </v-form>\r\n      </v-sheet>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name:\"DoubleAuth\",\r\n  data() {\r\n\r\n    return {\r\n      qrCodeDataURI: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    // Call API to generate OTP and get QR code image\r\n    this.generateOTP();\r\n  },\r\n  methods: {\r\n    async generateOTP() {\r\n      const response = await fetch('http://localhost:3000/otp/generate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ user_id: 11}),\r\n      });\r\n      const data = await response.json();\r\n      this.qrCodeDataURI = data.qrCodeDataURI;\r\n      console.log(data.qrCodeDataURI)\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.mx-auto{\r\n  height: 400px;\r\n  text-align: center;\r\n  margin-top: 80px;\r\n  background-color: forestgreen;\r\n\r\n}\r\n.mx-auto .titre{\r\n  margin-top: 20px;\r\n  color:white;\r\n\r\n}\r\n.formnum{\r\n  margin-top:10px;\r\n}\r\n</style>","import { render } from \"./doubleAuth.vue?vue&type=template&id=b4635510\"\nimport script from \"./doubleAuth.vue?vue&type=script&lang=js\"\nexport * from \"./doubleAuth.vue?vue&type=script&lang=js\"\n\nimport \"./doubleAuth.vue?vue&type=style&index=0&id=b4635510&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\toumy\\\\Desktop\\\\projet_mspr\\\\a-rosa-je_mspr_epsi\\\\arosaje-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Composables\nimport { createForm, makeFormProps } from '@/composables/form'\nimport { forwardRefs } from '@/composables/forwardRefs'\n\n// Utilities\nimport { ref } from 'vue'\nimport { genericComponent, useRender } from '@/util'\n\n// Types\nimport type { SubmitEventPromise } from '@/composables/form'\n\nexport const VForm = genericComponent()({\n  name: 'VForm',\n\n  props: {\n    ...makeFormProps(),\n  },\n\n  emits: {\n    'update:modelValue': (val: boolean | null) => true,\n    submit: (e: SubmitEventPromise) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const form = createForm(props)\n    const formRef = ref<HTMLFormElement>()\n\n    function onReset (e: Event) {\n      e.preventDefault()\n      form.reset()\n    }\n\n    function onSubmit (_e: Event) {\n      const e = _e as SubmitEventPromise\n\n      const ready = form.validate()\n      e.then = ready.then.bind(ready)\n      e.catch = ready.catch.bind(ready)\n      e.finally = ready.finally.bind(ready)\n\n      emit('submit', e)\n\n      if (!e.defaultPrevented) {\n        ready.then(({ valid }) => {\n          if (valid) {\n            formRef.value?.submit()\n          }\n        })\n      }\n\n      e.preventDefault()\n    }\n\n    useRender(() => ((\n      <form\n        ref={ formRef }\n        class=\"v-form\"\n        novalidate\n        onReset={ onReset }\n        onSubmit={ onSubmit }\n      >\n        { slots.default?.(form) }\n      </form>\n    )))\n\n    return forwardRefs(form, formRef)\n  },\n})\n\nexport type VForm = InstanceType<typeof VForm>\n"],"names":["_createElementVNode","class","_createBlock","_component_v_container","_createVNode","_component_v_card","_hoisted_1","_hoisted_2","src","$data","qrCodeDataURI","alt","_component_v_sheet","width","_component_v_form","onSubmit","_cache","_withModifiers","_component_v_text_field","_ctx","firstName","$event","rules","label","_component_v_btn","type","onclick","block","name","data","mounted","this","generateOTP","methods","async","response","fetch","method","headers","body","JSON","stringify","user_id","json","console","log","__exports__","render","VForm","genericComponent","props","makeFormProps","emits","val","submit","e","setup","_ref","slots","emit","form","createForm","formRef","ref","onReset","preventDefault","reset","_e","ready","validate","then","bind","catch","finally","defaultPrevented","_ref2","valid","value","useRender","default","forwardRefs"],"sourceRoot":""}