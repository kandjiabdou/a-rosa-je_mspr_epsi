{"ast":null,"code":"export default {\n  name: \"DoubleAuth\",\n  data() {\n    return {\n      qrCodeDataURI: ''\n    };\n  },\n  mounted() {\n    // Call API to generate OTP and get QR code image\n    this.generateOTP();\n  },\n  methods: {\n    async generateOTP() {\n      const response = await fetch('http://localhost:3000/otp/generate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: 11\n        })\n      });\n      const data = await response.json();\n      this.qrCodeDataURI = data.qrCodeDataURI;\n      console.log(data.qrCodeDataURI);\n    }\n  }\n};","map":{"version":3,"names":["name","data","qrCodeDataURI","mounted","generateOTP","methods","response","fetch","method","headers","body","JSON","stringify","user_id","json","console","log"],"sources":["C:\\Users\\toumy\\Desktop\\projet_mspr\\a-rosa-je_mspr_epsi\\arosaje-app\\src\\views\\doubleAuth.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card\r\n        class=\"mx-auto\"\r\n        max-width=\"500\"\r\n\r\n    >\r\n      <h3 class=\"titre\">Double Authentification</h3>\r\n      <span>Veillez scanner le code QR avec l'application Google Authenticator</span>\r\n      <img :src=\"qrCodeDataURI\" alt=\"QR code\">\r\n      <v-sheet width=\"300\" class=\"mx-auto formnum\">\r\n        <v-form @submit.prevent>\r\n          <v-text-field\r\n              v-model=\"firstName\"\r\n              :rules=\"rules\"\r\n              label=\"Code secret\"\r\n          ></v-text-field>\r\n          <v-btn type=\"submit\" onclick=\"window.location.href = '/profil';\" block class=\"mt-2\">Submit</v-btn>\r\n        </v-form>\r\n      </v-sheet>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name:\"DoubleAuth\",\r\n  data() {\r\n\r\n    return {\r\n      qrCodeDataURI: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    // Call API to generate OTP and get QR code image\r\n    this.generateOTP();\r\n  },\r\n  methods: {\r\n    async generateOTP() {\r\n      const response = await fetch('http://localhost:3000/otp/generate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ user_id: 11}),\r\n      });\r\n      const data = await response.json();\r\n      this.qrCodeDataURI = data.qrCodeDataURI;\r\n      console.log(data.qrCodeDataURI)\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.mx-auto{\r\n  height: 400px;\r\n  text-align: center;\r\n  margin-top: 80px;\r\n  background-color: forestgreen;\r\n\r\n}\r\n.mx-auto .titre{\r\n  margin-top: 20px;\r\n  color:white;\r\n\r\n}\r\n.formnum{\r\n  margin-top:10px;\r\n}\r\n</style>"],"mappings":"AAyBA,eAAe;EACbA,IAAI,EAAC,YAAY;EACjBC,IAAIA,CAAA,EAAG;IAEL,OAAO;MACLC,aAAa,EAAE;IACjB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACC,WAAW,EAAE;EACpB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,WAAWA,CAAA,EAAG;MAClB,MAAME,QAAO,GAAI,MAAMC,KAAK,CAAC,oCAAoC,EAAE;QACjEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,OAAO,EAAE;QAAE,CAAC;MACrC,CAAC,CAAC;MACF,MAAMZ,IAAG,GAAI,MAAMK,QAAQ,CAACQ,IAAI,EAAE;MAClC,IAAI,CAACZ,aAAY,GAAID,IAAI,CAACC,aAAa;MACvCa,OAAO,CAACC,GAAG,CAACf,IAAI,CAACC,aAAa;IAEhC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}