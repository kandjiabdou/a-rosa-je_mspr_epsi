{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"DemandeGardinnage\",\n  components: {},\n  data() {\n    return {\n      files: []\n    };\n  },\n  methods: {\n    onSubmit() {\n      const formData = {\n        adresse: this.$refs.adresse.value,\n        photos: this.files,\n        description: this.$refs.description.value,\n        roles: {\n          botaniste: this.$refs.botaniste.checked,\n          users: this.$refs.utilisateur.checked\n        }\n      };\n      axios.post('http://localhost:3000/annonce/:id', formData).then(response => {\n        console.log(response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    onFilesSelected(event) {\n      this.files = event.target.files;\n    }\n  }\n};","map":{"version":3,"names":["axios","name","components","data","files","methods","onSubmit","formData","adresse","$refs","value","photos","description","roles","botaniste","checked","users","utilisateur","post","then","response","console","log","catch","error","onFilesSelected","event","target"],"sources":["C:\\Users\\toumy\\Desktop\\projet_mspr\\a-rosa-je_mspr_epsi\\arosaje-app\\src\\views\\DemandeGardinnage.vue"],"sourcesContent":["<template>\r\n\r\n  <v-col cols=\"12\" sm=\"12\" md=\"8\" xs=\"12\" class=\"demande\">\r\n  <v-card class=\"mx-auto\" >\r\n    <v-card-text style=\"text-align:center;\">\r\n      <span class=\"titre\">Demande de gardinnage</span>\r\n\r\n    </v-card-text>\r\n        <v-sheet class=\"cardform\">\r\n          <v-form @submit.prevent=\"onSubmit\" enctype=\"multipart/form-data\">\r\n            <v-card-text>\r\n              <v-container class=\"check\">\r\n                <v-checkbox label=\"Botaniste\" v-model=\"botaniste\"></v-checkbox>\r\n                <v-checkbox label=\"Utilisateur\" v-model=\"users\"></v-checkbox>\r\n              </v-container>\r\n            </v-card-text >\r\n            <v-container class=\"form\">\r\n              <v-col\r\n                  cols=\"12\"\r\n                  md=\"10\"\r\n              >\r\n                <v-text-field label=\"Adresse\" v-model=\"adresse\" prepend-icon=\"mdi-map-marker\"></v-text-field>\r\n                <v-file-input\r\n                    v-model=\"files\"\r\n                    label=\"Sélectionner des photos\"\r\n                    accept=\"image/*\"\r\n                    multiple\r\n                    @change=\"onFilesSelected\"\r\n                ></v-file-input>\r\n                <v-container class=\"dispo\">\r\n                <v-text-field class=\"deb\" label=\"Date de début \" prepend-icon=\"mdi-calendar\"></v-text-field>\r\n                <v-text-field class=\"fin\" label=\"Date de fin \" prepend-icon=\"mdi-calendar\"></v-text-field>\r\n                </v-container>\r\n\r\n              </v-col>\r\n\r\n                <div class=\"photos\">\r\n                  <v-card v-for=\"(file, index) in files\" :key=\"index\" height=\"70px\">\r\n                    <img :src=\"file.url\" alt=\"Photo\" />\r\n                  </v-card>\r\n                  </div>\r\n\r\n          </v-container>\r\n            <v-textarea label=\"Description\" variant=\"solo\" class=\"text\"></v-textarea>\r\n            <v-btn @click=\"handleReset\" class=\"enregistrer\">\r\n              Enregistrer\r\n            </v-btn>\r\n          </v-form>\r\n        </v-sheet>\r\n\r\n  </v-card>\r\n  </v-col>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name:\"DemandeGardinnage\",\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      files: []\r\n    };\r\n  },\r\n  methods: {\r\n\r\n    onSubmit() {\r\n      const formData = {\r\n        adresse: this.$refs.adresse.value,\r\n        photos: this.files,\r\n        description: this.$refs.description.value,\r\n            roles: {\r\n              botaniste: this.$refs.botaniste.checked,\r\n              users: this.$refs.utilisateur.checked,\r\n            }\r\n      };\r\n\r\n      axios.post('http://localhost:3000/annonce/:id', formData)\r\n          .then(response => {\r\n            console.log(response.data);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n    },\r\n    onFilesSelected(event) {\r\n      this.files = event.target.files;\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n<style>\r\n\r\n  .photos {\r\n    margin-top: 70px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n  .photos v-card {\r\n    width: 100px;\r\n    margin: 16px;\r\n\r\n  }\r\n\r\n  .photos img {\r\n    width: 100px;\r\n    height: 70px;\r\n\r\n  }\r\n  .dispo{\r\n    display:flex;\r\n    justify-content: space-between;\r\n\r\n  }\r\n\r\n  .demande {\r\n    background-color: forestgreen;\r\n    margin: auto;\r\n    color: black;\r\n  }\r\n\r\n  .titre {\r\n    font-size: 30px;\r\n    color: black;\r\n\r\n  }\r\n\r\n  .mx-auto {\r\n    color: white;\r\n  }\r\n\r\n  .cardform {\r\n    min-height: 450px;\r\n  }\r\n\r\n  .check {\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n\r\n  }\r\n\r\n  .text {\r\n    width: 600px;\r\n    margin-left: 70px;\r\n  }\r\n\r\n  .form {\r\n    margin-top: -60px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .enregistrer {\r\n    color: white;\r\n    background-color: forestgreen;\r\n    width: 200px;\r\n    margin-bottom: 20px;\r\n    margin-left: 70px;\r\n\r\n  }\r\n\r\n  .photos v-card {\r\n    width: 200px;\r\n    height: 100px;\r\n    margin: 16px;\r\n  }\r\n\r\n@media (max-width: \t600px){\r\n\r\n  .text{\r\n    margin-left: 30px;\r\n    width:250px;\r\n  }\r\n  .enregistrer{\r\n    margin-left: 60px;\r\n  }\r\n}\r\n</style>"],"mappings":"AAuDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAC,mBAAmB;EACxBC,UAAU,EAAE,CAAC,CAAC;EAEdC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IAEPC,QAAQA,CAAA,EAAG;MACT,MAAMC,QAAO,GAAI;QACfC,OAAO,EAAE,IAAI,CAACC,KAAK,CAACD,OAAO,CAACE,KAAK;QACjCC,MAAM,EAAE,IAAI,CAACP,KAAK;QAClBQ,WAAW,EAAE,IAAI,CAACH,KAAK,CAACG,WAAW,CAACF,KAAK;QACrCG,KAAK,EAAE;UACLC,SAAS,EAAE,IAAI,CAACL,KAAK,CAACK,SAAS,CAACC,OAAO;UACvCC,KAAK,EAAE,IAAI,CAACP,KAAK,CAACQ,WAAW,CAACF;QAChC;MACN,CAAC;MAEDf,KAAK,CAACkB,IAAI,CAAC,mCAAmC,EAAEX,QAAQ,EACnDY,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACjB,IAAI,CAAC;MAC5B,CAAC,EACAoB,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACpB,CAAC,CAAC;IACR,CAAC;IACDC,eAAeA,CAACC,KAAK,EAAE;MACrB,IAAI,CAACtB,KAAI,GAAIsB,KAAK,CAACC,MAAM,CAACvB,KAAK;IACjC;EACF;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}