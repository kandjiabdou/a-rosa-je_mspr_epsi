{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"monCompte\",\n  data: () => ({\n    idUser: 4,\n    user: \"\",\n    adresse: \"\",\n    newMdp: \"\",\n    confirmMdp: \"\",\n    mdp: \"\"\n  }),\n  mounted() {\n    console.log(\"Mounted\");\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      console.log(\"test start\");\n      axios.get(\"http://localhost:3000/user/\" + this.idUser).then(response => {\n        this.user = response.data.user;\n        this.adresse = this.user.Numero_rue + ' ' + this.user.Nom_rue + ' ' + this.user.code_postale + ', ' + this.user.ville;\n        console.log(this.user);\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(\"test fin\");\n    },\n    updateMdp() {\n      axios.post(\"http://localhost:3000/user/\" + this.idUser).then(response => {\n        this.user = response.data.user;\n        this.adresse = this.user.Numero_rue + ' ' + this.user.Nom_rue + ' ' + this.user.code_postale + ', ' + this.user.ville;\n        console.log(this.user);\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(\"test fin\");\n      axios.post('http://localhost:3000/user/', {\n        newMdp: this.newMdp,\n        confirmMdp: this.confirmMdp,\n        mdp: this.mdp,\n        idUser: this.idUser\n      }).then(response => {\n        console.log(response);\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","idUser","user","adresse","newMdp","confirmMdp","mdp","mounted","console","log","fetchData","methods","get","then","response","Numero_rue","Nom_rue","code_postale","ville","catch","error","updateMdp","post"],"sources":["C:\\Users\\toumy\\Desktop\\projet_mspr\\a-rosa-je_mspr_epsi\\arosaje-app\\src\\views\\MoncompteView.vue"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <v-container class=\"bg-surface-variant\">\r\n      <v-row no-gutters>\r\n        <v-col>\r\n\r\n          <div class=\"d-flex justify-space-around align-center flex-column flex-md-row fill-height\">\r\n            <v-img class=\"img\" lazy-src=\"https://picsum.photos/id/11/10/6\" max-height=\"150\" max-width=\"250\"\r\n              src=\"https://picsum.photos/id/11/500/300\"></v-img>\r\n          </div>\r\n\r\n        </v-col>\r\n        <v-col>\r\n          <v-sheet class=\"pa-2 ma-2\"> ''\r\n            <form>\r\n              <v-text-field v-model=\"user.nom\" :error-messages=\"nameErrors\" :counter=\"10\" label=\"Nom\" required\r\n                @input=\"$v.name.$touch()\" @blur=\"$v.name.$touch()\"></v-text-field>\r\n              <v-text-field v-model=\"user.prenom\" :error-messages=\"prenomErrors\" label=\"Prenom\" required\r\n                @input=\"$v.prenom.$touch()\" @blur=\"$v.prenom.$touch()\"></v-text-field>\r\n              <v-text-field v-model=\"adresse\" :error-messages=\"adressErrors\" :counter=\"10\" label=\"Adresse\" required\r\n                @input=\"$v.adress.$touch()\" @blur=\"$v.adress.$touch()\"></v-text-field>\r\n              <v-text-field v-model=\"user.telephone\" :error-messages=\"telErrors\" label=\"Telephone\" required\r\n                @input=\"$v.tel.$touch()\" @blur=\"$v.tel.$touch()\"></v-text-field>\r\n            </form>\r\n          </v-sheet>\r\n        </v-col>\r\n\r\n      </v-row>\r\n    </v-container>\r\n    <v-col>\r\n      <v-sheet class=\"pa-2 ma-2\">\r\n        <div class=\"d-flex justify-space-around align-center flex-column flex-md-row fill-height\">\r\n          <form class=\"info\">\r\n            <v-text-field v-model=\"oldpassword\" :error-messages=\"oldpasswordErrors\" :counter=\"10\"\r\n              label=\"Ancien mot de passe\" required @input=\"$v.oldpassword.$touch()\"\r\n              @blur=\"$v.oldpassword.$touch()\"></v-text-field>\r\n            <v-text-field v-model=\"newpassword\" :error-messages=\"newpasswordErrors\" label=\"Nouveau mot de passe\" required\r\n              @input=\"$v.newpassword.$touch()\" @blur=\"$v.newpassword.$touch()\"></v-text-field>\r\n            <v-text-field v-model=\"confirmpassword\" :error-messages=\"confirmpasswordErrors\"\r\n              label=\"Confirmer  mot de passe\" required @input=\"$v.confirmpassword.$touch()\"\r\n              @blur=\"$v.confirmassword.$touch()\"></v-text-field>\r\n            <div class=\"d-flex justify-space-around align-center flex-column flex-md-row fill-height\">\r\n              <v-btn v-on:click=\"updateMdp\" color=\"success\" size=\"large\">\r\n                Modifier mot de passe\r\n              </v-btn>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </v-sheet>\r\n    </v-col>\r\n\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  name: \"monCompte\",\r\n  data: () => ({\r\n    idUser: 4,\r\n    user: \"\",\r\n    adresse: \"\",\r\n    newMdp: \"\",\r\n    confirmMdp: \"\",\r\n    mdp: \"\",\r\n  }),\r\n  mounted() {\r\n    console.log(\"Mounted\");\r\n    this.fetchData();\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      console.log(\"test start\");\r\n      axios\r\n        .get(\"http://localhost:3000/user/\" + this.idUser)\r\n        .then((response) => {\r\n\r\n          this.user = response.data.user\r\n          this.adresse = this.user.Numero_rue + ' ' + this.user.Nom_rue + ' ' + this.user.code_postale + ', ' + this.user.ville\r\n          console.log(this.user)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      console.log(\"test fin\");\r\n    },\r\n    updateMdp() {\r\n      axios\r\n        .post(\"http://localhost:3000/user/\" + this.idUser)\r\n        .then((response) => {\r\n\r\n          this.user = response.data.user\r\n          this.adresse = this.user.Numero_rue + ' ' + this.user.Nom_rue + ' ' + this.user.code_postale + ', ' + this.user.ville\r\n          console.log(this.user)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      console.log(\"test fin\");\r\n      axios.post('http://localhost:3000/user/', {\r\n        newMdp: this.newMdp,\r\n        confirmMdp: this.confirmMdp,\r\n        mdp: this.mdp,\r\n        idUser: this.idUser,\r\n      })\r\n        .then((response) => {\r\n          console.log(response);\r\n        }, (error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.info {\r\n  width: 50em;\r\n\r\n\r\n}\r\n</style>\r\n"],"mappings":"AAuDA,OAAOA,KAAI,MAAO,OAAO;AAGzB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAEA,CAAA,MAAO;IACXC,MAAM,EAAE,CAAC;IACTC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE,EAAE;IACXC,MAAM,EAAE,EAAE;IACVC,UAAU,EAAE,EAAE;IACdC,GAAG,EAAE;EACP,CAAC,CAAC;EACFC,OAAOA,CAAA,EAAG;IACRC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtB,IAAI,CAACC,SAAS,EAAE;EAClB,CAAC;EACDC,OAAO,EAAE;IACPD,SAASA,CAAA,EAAG;MACVF,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzBX,KAAI,CACDc,GAAG,CAAC,6BAA4B,GAAI,IAAI,CAACX,MAAM,EAC/CY,IAAI,CAAEC,QAAQ,IAAK;QAElB,IAAI,CAACZ,IAAG,GAAIY,QAAQ,CAACd,IAAI,CAACE,IAAG;QAC7B,IAAI,CAACC,OAAM,GAAI,IAAI,CAACD,IAAI,CAACa,UAAS,GAAI,GAAE,GAAI,IAAI,CAACb,IAAI,CAACc,OAAM,GAAI,GAAE,GAAI,IAAI,CAACd,IAAI,CAACe,YAAW,GAAI,IAAG,GAAI,IAAI,CAACf,IAAI,CAACgB,KAAI;QACpHV,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,IAAI;MACvB,CAAC,EACAiB,KAAK,CAAEC,KAAK,IAAK;QAChBZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;MACpB,CAAC,CAAC;MACJZ,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IACzB,CAAC;IACDY,SAASA,CAAA,EAAG;MACVvB,KAAI,CACDwB,IAAI,CAAC,6BAA4B,GAAI,IAAI,CAACrB,MAAM,EAChDY,IAAI,CAAEC,QAAQ,IAAK;QAElB,IAAI,CAACZ,IAAG,GAAIY,QAAQ,CAACd,IAAI,CAACE,IAAG;QAC7B,IAAI,CAACC,OAAM,GAAI,IAAI,CAACD,IAAI,CAACa,UAAS,GAAI,GAAE,GAAI,IAAI,CAACb,IAAI,CAACc,OAAM,GAAI,GAAE,GAAI,IAAI,CAACd,IAAI,CAACe,YAAW,GAAI,IAAG,GAAI,IAAI,CAACf,IAAI,CAACgB,KAAI;QACpHV,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,IAAI;MACvB,CAAC,EACAiB,KAAK,CAAEC,KAAK,IAAK;QAChBZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;MACpB,CAAC,CAAC;MACJZ,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;MACvBX,KAAK,CAACwB,IAAI,CAAC,6BAA6B,EAAE;QACxClB,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBC,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3BC,GAAG,EAAE,IAAI,CAACA,GAAG;QACbL,MAAM,EAAE,IAAI,CAACA;MACf,CAAC,EACEY,IAAI,CAAEC,QAAQ,IAAK;QAClBN,OAAO,CAACC,GAAG,CAACK,QAAQ,CAAC;MACvB,CAAC,EAAGM,KAAK,IAAK;QACZZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}