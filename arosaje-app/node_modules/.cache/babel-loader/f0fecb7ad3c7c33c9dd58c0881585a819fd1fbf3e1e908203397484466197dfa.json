{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex flex-row\"\n};\nconst _hoisted_2 = {\n  color: \"white\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"A propos:\", -1);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Debut Entretien\", -1);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Fin Entretien\", -1);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\");\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_tab = _resolveComponent(\"v-tab\");\n  const _component_v_tabs = _resolveComponent(\"v-tabs\");\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_img = _resolveComponent(\"v-img\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_window_item = _resolveComponent(\"v-window-item\");\n  const _component_v_window = _resolveComponent(\"v-window\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_v_card, {\n    style: {\n      \"background-color\": \"greenyellow\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_toolbar, {\n      style: {}\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_toolbar_title, null, {\n        default: _withCtx(() => [_createTextVNode(\"Mes Entretiens Effectués\")]),\n        _: 1\n      })]),\n      _: 1\n    }), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_v_tabs, {\n      modelValue: _ctx.tab,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.tab = $event),\n      direction: \"vertical\",\n      color: \"primary\"\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.gardiennageData, item => {\n        return _openBlock(), _createBlock(_component_v_tab, {\n          key: item.i,\n          value: item.i\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_icon, {\n            start: \"\",\n            color: \"green\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" mdi-account \")]),\n            _: 1\n          }), _createElementVNode(\"p\", _hoisted_2, _toDisplayString(item.description.substr(1, 10)), 1), _createVNode(_component_v_icon, {\n            color: \"white\",\n            onClick: $event => $options.DeleteData(item.idAnnonce)\n          }, null, 8, [\"onClick\"])]),\n          _: 2\n        }, 1032, [\"value\"]);\n      }), 128))]),\n      _: 1\n    }, 8, [\"modelValue\"]), _createVNode(_component_v_window, {\n      modelValue: _ctx.tab,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.tab = $event),\n      bac: \"\"\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.gardiennageData, (item, index) => {\n        return _openBlock(), _createBlock(_component_v_window_item, {\n          key: index,\n          value: index\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_card, {\n            flat: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_card_text, {\n              style: {\n                \"background-color\": \"white\"\n              }\n            }, {\n              default: _withCtx(() => [_hoisted_3, _hoisted_4, _createElementVNode(\"p\", null, _toDisplayString(item.description), 1), _hoisted_5, _hoisted_6, _hoisted_7, _createElementVNode(\"p\", null, _toDisplayString(item.date_debut), 1), _hoisted_8, _hoisted_9, _hoisted_10, _createElementVNode(\"p\", null, _toDisplayString(item.date_fin), 1), _createVNode(_component_v_row, null, {\n                default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.photo_gardiennage, (photo, i) => {\n                  return _openBlock(), _createBlock(_component_v_col, {\n                    key: i,\n                    class: \"d-flex child-flex\",\n                    cols: \" item.photo_gardiennage.length\"\n                  }, {\n                    default: _withCtx(() => [_createVNode(_component_v_img, {\n                      src: 'http://localhost:3000' + photo.lien,\n                      \"lazy-src\": photo.lien,\n                      \"aspect-ratio\": \"1\",\n                      cover: \"\",\n                      class: \"bg-grey-lighten-2\"\n                    }, {\n                      placeholder: _withCtx(() => [_createVNode(_component_v_row, {\n                        class: \"fill-height ma-0\",\n                        \"text-align\": \"center\",\n                        justify: \"center\"\n                      }, {\n                        default: _withCtx(() => [_createVNode(_component_v_progress_circular, {\n                          indeterminate: \"\",\n                          color: \"grey-lighten-5\"\n                        })]),\n                        _: 1\n                      })]),\n                      _: 2\n                    }, 1032, [\"src\", \"lazy-src\"])]),\n                    _: 2\n                  }, 1024);\n                }), 128))]),\n                _: 2\n              }, 1024)]),\n              _: 2\n            }, 1024)]),\n            _: 2\n          }, 1024)]),\n          _: 2\n        }, 1032, [\"value\"]);\n      }), 128))]),\n      _: 1\n    }, 8, [\"modelValue\"])])]),\n    _: 1\n  })]);\n}","map":{"version":3,"names":["class","color","_createElementVNode","_createElementBlock","_createVNode","_component_v_card","style","_component_v_toolbar","_component_v_toolbar_title","_hoisted_1","_component_v_tabs","_ctx","tab","$event","direction","_Fragment","_renderList","gardiennageData","item","_createBlock","_component_v_tab","key","i","value","_component_v_icon","start","_hoisted_2","_toDisplayString","description","substr","onClick","$options","DeleteData","idAnnonce","_component_v_window","bac","index","_component_v_window_item","flat","_component_v_card_text","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","date_debut","_hoisted_8","_hoisted_9","_hoisted_10","date_fin","_component_v_row","photo_gardiennage","photo","_component_v_col","cols","_component_v_img","src","lien","cover","placeholder","_withCtx","justify","_component_v_progress_circular","indeterminate"],"sources":["C:\\Users\\toumy\\Desktop\\projet_mspr\\a-rosa-je_mspr_epsi\\arosaje-app\\src\\views\\GardiennageView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-card style=\"background-color: greenyellow\">\r\n      <!-- commented out code not needed -->\r\n\r\n      <v-toolbar style=\"background- color=\">\r\n        <v-toolbar-title>Mes Entretiens Effectués</v-toolbar-title>\r\n      </v-toolbar>\r\n      <div class=\"d-flex flex-row\">\r\n        <v-tabs v-model=\"tab\" direction=\"vertical\" color=\"primary\">\r\n          <v-tab v-for=\"item in gardiennageData\" :key=\"item.i\" :value=\"item.i\">\r\n            <v-icon start color=\"green\"> mdi-account </v-icon>\r\n\r\n            <p color=\"white\">{{ item.description.substr(1, 10) }}</p>\r\n\r\n            <v-icon color=\"white\" @click=\"DeleteData(item.idAnnonce)\"></v-icon>\r\n          </v-tab>\r\n        </v-tabs>\r\n        <v-window v-model=\"tab\" bac>\r\n          <v-window-item\r\n            v-for=\"(item, index) in gardiennageData\"\r\n            :key=\"index\"\r\n            :value=\"index\"\r\n          >\r\n            <v-card flat>\r\n              <v-card-text style=\"background-color: white\">\r\n                <h1>A propos:</h1>\r\n                <br />\r\n                <p>{{ item.description }}</p>\r\n                <br />\r\n                <!-- <h3>Proprietaire : </h3><p>{{ item.nom_proprietaire }}</p><br/> -->\r\n                <h3>Debut Entretien</h3>\r\n                <br />\r\n                <p>{{ item.date_debut }}</p>\r\n                <br />\r\n                <h3>Fin Entretien</h3>\r\n                <br />\r\n                <p>{{ item.date_fin }}</p>\r\n\r\n                <v-row>\r\n                  <v-col\r\n                    v-for=\"(photo, i) in item.photo_gardiennage\"\r\n                    :key=\"i\"\r\n                    class=\"d-flex child-flex\"\r\n                    cols=\" item.photo_gardiennage.length\"\r\n                  >\r\n                    <v-img\r\n                      :src=\"'http://localhost:3000' + photo.lien\"\r\n                      :lazy-src=\"photo.lien\"\r\n                      aspect-ratio=\"1\"\r\n                      cover\r\n                      class=\"bg-grey-lighten-2\"\r\n                    >\r\n                      <template v-slot:placeholder>\r\n                        <v-row\r\n                          class=\"fill-height ma-0\"\r\n                          text-align=\"center\"\r\n                          justify=\"center\"\r\n                        >\r\n                          <v-progress-circular\r\n                            indeterminate\r\n                            color=\"grey-lighten-5\"\r\n                          ></v-progress-circular>\r\n                        </v-row>\r\n                      </template>\r\n                    </v-img>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-window-item>\r\n        </v-window>\r\n      </div>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport liste from \"../data.json\";\r\nimport { mdiDelete } from \"@mdi/js\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"liSte\",\r\n\r\n  data: () => ({\r\n    tab: 0,\r\n    items: liste[\"liste\"],\r\n    icon: mdiDelete,\r\n    gardiennageData: [],\r\n    idUser: 4,\r\n  }),\r\n  mounted() {\r\n    this.fetchData();\r\n  },\r\n  methods: {\r\n    deleteItem(index) {\r\n      this.items.splice(index, 1);\r\n    },\r\n    fetchData() {\r\n      console.log(\"test start\");\r\n      axios\r\n        .get(\"http://localhost:3000/gardiennage/user/\" + this.idUser)\r\n        .then((response) => {\r\n          this.gardiennageData = response.data.gardiennages;\r\n          console.log(\"ok get\");\r\n          console.log(response.data);\r\n          response.data.gardiennages.forEach((element) => {\r\n            element[\"date_fin\"] = new Date(\r\n              element[\"date_fin\"]\r\n            ).toLocaleDateString();\r\n            element[\"date_debut\"] = new Date(\r\n              element[\"date_fin\"]\r\n            ).toLocaleDateString();\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      console.log(\"test fin\");\r\n    },\r\n    DeleteData(itemId) {\r\n      axios\r\n        .delete(`http://localhost:3000/gardiennage/${this.idUser}/${itemId}`)\r\n        .then((response) => {\r\n          console.log(\"Item deleted successfully\");\r\n          // Update the gardiennageData array with the updated data from the server\r\n          this.gardiennageData = response.data.gardiennages;\r\n          alert(\"Item deleted successfully!\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}